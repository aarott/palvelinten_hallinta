# h-4 Demonit

Kone millä tein harjoituksen:

AMD Ryzen 2600X Six-Core Processor 3.6 ghz  

16gb RAM  

Windows 10 Pro 64-bit käyttöjärjestelmä  

Oracle VM VirtualBox Manager  

##

Tehtävä löytyy sivulta: https://terokarvinen.com/2023/configuration-management-2023-autumn/

## x)  


Karvinen 2023: [Salt Vagrant - automatically provision one master and two slaves](https://terokarvinen.com/2023/salt-vagrant/)  

(sama tiivistelmä kuin omassa https://github.com/aarott/palvelinten_hallinta/blob/main/h-2.md#x raportissa)  

- Vagrant Virtualisointi ympäristön asentaminen 
- Ohjeet laadittu sivulla linuxille
- Valmis Vagrant-tiedosto kolmen koneen luomiseen
- Kolmen koneen ajaminen
- Orjien ottaminen vastaan ja hallinta masterkoneelta
- Tavoite idempotenttisuus
- Koodi tiedostoilla voidaan ohjelmoida haluttu sallittu tila


https://docs.saltproject.io/salt/user-guide/en/latest/topics/overview.html#rules-of-yaml  

Rules of YAML  

- Data on strukturoitu `key :value` pareihin
- Mapppings käyttää (": ") markatakseen avaimen  
- Kaikki avaimet on case-sensitive
- Älä käytä tabeja ne ei ole sallittu, space toimii
- Kommentit #

************** JATKA MYÖHEMMIN *****************  

## a) Hello SLS! Tee Hei maailma -tila kirjoittamalla se tekstitiedostoon, esim /srv/salt/hello/init.sls  

https://terokarvinen.com/2023/salt-vagrant/#infra-as-code---your-wishes-as-a-text-file -> käytin kyseistä ohjetta apuna

Olin aikasemmin asentanut paikallisesti samalle koneelle Salt-Masterin ja Salt-Minionin.  

`$ sudo mkdir -p /srv/salt/hello`  

`$ sudoedit /srv/salt/hello/init.sls`    

##  

![image](https://github.com/aarott/palvelinten_hallinta/assets/78908566/55af185e-da78-4fa8-83aa-e75b5a44db22)  


![image](https://github.com/aarott/palvelinten_hallinta/assets/78908566/42134c44-8870-4e45-a134-4863cdb5c741)  

Testataan että Hei maailma -tila toimii:  

`$ sudo salt '*' state.apply hello`  

##  

![image](https://github.com/aarott/palvelinten_hallinta/assets/78908566/584d33ce-0e95-4f3d-8f5f-420688c63552)  

##  



