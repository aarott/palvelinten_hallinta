# h-2 Karjaa  

## x)  

Slater 2017: [What is the definition of "cattle not pets"?](https://devops.stackexchange.com/questions/653/what-is-the-definition-of-cattle-not-pets#654). (Vain tuo yksi vastaus DevOps Stack Exchangen kysymykseen)

- Petsit on servereitä jotka ei saa koskaan olla “down” eli pois käytöstä, esim palomuurit, tietojärjestelmät jne  
- Petsit on manuaalisti  “käsin” rakennettejua servereitä  
- Cattle on kokoelma useampia servereitä jotka on automaattisesti hallittuja. Esim Weppipalvelimet ovat tällaisia, eivät tarvitse ihmisen interventiota  esim uudelleenkäynnistämiseen

Karvinen 2017: [Vagrant Revisited – Install & Boot New Virtual Machine in 31 seconds](https://terokarvinen.com/2017/04/11/vagrant-revisited-install-boot-new-virtual-machine-in-31-seconds/) (Suosittelen koneeksi 'vagrant init debian/bullseye64')

- Vagrantilla voidaan hyvin lyhyessä ajassa käynnistä uusii virtuaalinen kone jota hallita ssh-yhteydellä
- sudo apt-get -y install vagrant virtualbox
- vagrant init bento/ubuntu-16.04
- vagrant up
- vagrant ssh

Karvinen 2023: [Salt Vagrant - automatically provision one master and two slaves](https://terokarvinen.com/2023/salt-vagrant/)

- Vagrant Virtualisointi ympäristön asentaminen 
- Ohjeet laadittu sivulla linuxille
- Valmis Vagrant-tiedosto kolmen koneen luomiseen
- Kolmen koneen ajaminen
- Orjien ottaminen vastaan ja hallinta masterkoneelta
- Tavoite idempotenttisuus
- Koodi tiedostoilla voidaan ohjelmoida haluttu sallittu tila

## a) Asenna Vagrant  

Koska en ollut kotikoneella, päätin aloittaa tehtävän Macbook Air 6,2 läppärillä.  

Asensin Homebrewn:n paketinhallintaa varten https://brew.sh  

Macin terminaaliin:  

$ /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"  

$ brew install --cask vagrant  

![Screen Shot 2023-11-05 at 12 47 02](https://github.com/aarott/palvelinten_hallinta/assets/78908566/ae5e1312-3015-4114-8a87-efd0e3c538d0)  

$ vagrant init bento/ubuntu-16.04  

$ vagrant up  

![Screen Shot 2023-11-05 at 13 01 42](https://github.com/aarott/palvelinten_hallinta/assets/78908566/9a0c0891-5bdc-4b38-8df5-26f8e5f696ef)  

VirtualBoxiin ilmestyi nyt uusi virtuaalinen kone:   

![Screen Shot 2023-11-05 at 13 03 12](https://github.com/aarott/palvelinten_hallinta/assets/78908566/93f61c42-6295-4567-9e21-582bdc3bb1ad)  

## b) SSH-yhteys 

$ vagrant ssh  

![Screen Shot 2023-11-05 at 13 07 12](https://github.com/aarott/palvelinten_hallinta/assets/78908566/31b452c9-c251-44a4-a571-5a90f4f66022)  

Testasin netin toimivuuden pingaamalla Teron sivua, näyttäisi toimivan.  

![Screen Shot 2023-11-05 at 13 07 12](https://github.com/aarott/palvelinten_hallinta/assets/78908566/e382eefa-8d69-44a0-a27c-8c8afa567a17)










  
