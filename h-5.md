# h-5 CSI Kerava

Kone millä tein harjoituksen:

AMD Ryzen 2600X Six-Core Processor 3.6 ghz  

16gb RAM  

Windows 10 Pro 64-bit käyttöjärjestelmä  

Oracle VM VirtualBox Manager  

##

Tehtävä löytyy sivulta: https://terokarvinen.com/2023/configuration-management-2023-autumn/

## x)  Lue ja tiivistä  

https://terokarvinen.com/2018/04/03/apache-user-homepages-automatically-salt-package-file-service-example/  

Artikkelissa kerrotaan miten Apachella saadaan automaattisesti käyttäjän kotisivut Salt Package-File-service käyttämällä.  

- Kaikki kannattaa eka tehdä manuaalisesti käsin
- Apachen configuration tiedostot löytyy polusta /etc/apache2/
- `$ find -printf "%T+ %p\n"|sort` saadaan selville muutosten aikajana

- Paras tapa käyttäen configuration tiedostoja:

```$ cat /srv/salt/apache/init.sls  
apache2:  
 pkg.installed  
/var/www/html/index.html:  
 file.managed:  
   - source: salt://apache/default-index.html
/etc/apache2/mods-enabled/userdir.conf:
 file.symlink:
   - target: ../mods-available/userdir.conf
/etc/apache2/mods-enabled/userdir.load:
 file.symlink:
   - target: ../mods-available/userdir.load
apache2service:
 service.running:
   - name: apache2
   - watch:
     - file: /etc/apache2/mods-enabled/userdir.conf
     - file: /etc/apache2/mods-enabled/userdir.load 
```
- Kotisivut löytyy `$ cat /srv/salt/apache/default-index.html`
- Tila käyttöön masterilla `$ sudo salt '*' state.apply apache`

## a)  CSI Kerava. Näytä 'find' avulla viimeisimmäksi muokatut tiedostot /etc/-hakemistosta ja kotihakemistostasi. Selitä kaikki käyttämäsi parametrit ja format string 'man find' avulla.  

Teron sivujen tehtävien vinkeissä on komento `$ find -printf '%T+ %p\n'`, kokeilin sitä ensimmäisenä ja se tosiaan tulostaa kaikki viimeiset muokatut tiedostot.  

Man find sivuilta selviää että, find [-H] [-L] [-P] [-D debugopts] [-Olevel] [path...] [expression] , eli tiedosto/hakemisto tulee kohtaan [-H] .  

Man sort sivulta selvisi, että sort -n expressiolla saadaan numeraaliseen järjestykseen stringi, eli tässä tapauksessa viimeisimmät muokatut tiedostot.   

Viimeisimmät muokatut tiedostot /etc hakemistosta:  

` $ find /etc -printf '%T+ %p\n' |sort -n `  

Putkittamalalla `|sort -n` laittaa kronologiseen järjestykseen haut niin, että viimeisimmät näkyy ekana. 

##  

![image](https://github.com/aarott/palvelinten_hallinta/assets/78908566/a7e587b3-8d7d-4276-b845-30680b2a059c)


## 

Sama juttu jos etsitään /home hakemistosta muutetaan vaan hakemiston polkua:  

` $ find /home -printf '%T+ %p\n' |sort -n `  

##  

![image](https://github.com/aarott/palvelinten_hallinta/assets/78908566/d09f1749-741a-420a-8080-de8146c176c9)  

##

## b) Gui2fs. Muokkaa asetuksia jostain graafisen käyttöliittymän (GUI) ohjelmasta käyttäen ohjelman valikoita ja dialogeja. Etsi tämä asetus tiedostojärjestelmästä.

Menin Applications --> Setttings --> XCFE Terminal Settings. Kävin sieltä graafisesta liityymästä muokkaamassa yksinkertaisesti terminaalin fontin kokoa.  

##  

![image](https://github.com/aarott/palvelinten_hallinta/assets/78908566/baa3538e-c733-40cc-91c5-a52a333e5892)  

##  

Katsoin suoraan viimeisimmät muokatut tiedostot ` $ find -printf '%T+ %p\n' |sort -n `  

Huomasin tosiaan että .../.config/xcfe4/terminal on tehty muokkauksia vast ikään.  

## 

![image](https://github.com/aarott/palvelinten_hallinta/assets/78908566/eea521bd-e734-4a63-85cd-5cf836d75ba9)  '

##




